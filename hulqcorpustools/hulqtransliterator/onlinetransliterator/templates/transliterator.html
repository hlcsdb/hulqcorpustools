<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='transliterator.css') }}" />
    <title>transliterator</title>
</head>

<body>
    <header>
        <h1>Hul’q’umi’num’ transliterator</h1>
        <p>This site can transliterate text from one way of writing Hul’q’umi’num’ to another.</p>
    </header>

    <div class="all-transliterators-container">

        <div class="transliterator-container">
            <h2 name="string-transliterator">String transliterator</h2>

            <form method="post">
                <div class="text-box-and-format-selection-container">
                    <label for="source-format-selection">
                        Input text
                    </label><br />

                    <select class="format-selection" name="source-format-selection" id="source-format-selection">
                        {%- for format in source_formats -%}
                        <option value="{{ format.get('value') }}" name="{{ format.get('name') }}" {%- if
                            transliterator_form.get('source_format')==format.get('value') -%} selected{% endif %}>
                            {{ format.get('name') }}</option>
                        {% endfor %}
                    </select><br />

                    <textarea autofocus id="input-text" name="input-text" rows="6">
            {%- if transliterator_form.get('input') -%}
            {{ transliterator_form.get('input') }}
            {%- else -%}’uy’ skweyul si’em’{% endif %}</textarea><br />

                </div>

                <div class="text-box-and-format-selection-container">
                    <label for="target-format-selection">
                        Output text
                    </label><br />
                    <select class="format-selection" name="target-format-selection" id="target-format-selection">
                        {%- for format in target_formats -%}
                        <option value="{{ format.get('value') }}" name="{{ format.get('name') }}" {%- if
                            transliterator_form.get('target_format')==format.get('value') -%} selected{% endif%}>
                            {{ format.get('name') }}</option>
                        {% endfor %}
                    </select><br />

                    <textarea id="output-text" rows="6" type="transliterated-text"
                        readonly>{%- if transliterator_form.get('output') -%}{{ transliterator_form.get('output') }}{%- else -%}{% endif %}</textarea><br />

                    <button
                    type="submit"
                    id="string-transliterate"
                    name="string-transliterate"
                    value="string-transliterate">Transliterate</button>


                    
                </div>
            </form>

            <h3>Test text</h3>
            <h4>Straight</h4>
            <p>n;c÷a÷ skøey;l c; st÷e ˚ø; ≈øqø;l÷qø;l÷iw;n ni:n t;w÷ scekø;l køs ÷;nƒ;s t÷at÷aƒ;t.</p>
            <h4>APA Unicode</h4>
            <p>nəc̓aʔ skʷeyəl cə st̓e k̓ʷə x̌ʷqʷəl̓qʷəl̓iwən ni:n təw̓ scekʷəl kʷs ʔənθəs t̓at̓aθət.</p>
            <h4>Practical orthography</h4>
            <p>nuts’a’ skweyul tsu st’e kw’u xwqwul’qwul’iwun niin tuw’ stsekwul kws ’unthus t’at’athut.</p>
        </div> <!-- string transliterator -->


        <div class="transliterator-container">

            <h2>File transliterator</h2>
            <p>Transliterate all of the Hul’q’umi’num’ in .docx and .txt files.</p>

            <form enctype="multipart/form-data" method="post">
                <input type="file" name="transliterate-file" multiple accept=".docx,.txt">
                
                <select 
                    class="format-selection"
                    name="source-format-selection"
                    id="source-format-selection">
                    {%- for format in source_formats -%}
                        <option
                            value="{{ format.get('value') }}"
                            name="{{ format.get('name') }}"
                            {%- if
                                transliterator_form.get("source_format") == format.get("value") -%}
                            selected
                            {% endif %}>
                        {{ format.get('name') }}</option>
                    {% endfor %}
                </select>
                <label for="source-format-selection">source format</label>
                <select
                    class="format-selection"
                    name="target-format-selection"
                    id="target-format-selection">
                        {%- for format in target_formats -%}
                        <option
                            value="{{ format.get('value') }}"
                            name="{{ format.get('name') }}"
                            {%- if
                                transliterator_form.get("target_format") == format.get("value") -%}
                            selected
                            {% endif%}>
                        {{ format.get('name') }}</option>
                    {% endfor %}
                    </select>
                <button
                    type="submit"
                    id="upload-transliterator-files"
                    name="upload-transliterator-files"
                    value="upload-transliterator-files">Submit</button>

                {%- if
                    transliterator_form.get('transliterated_docx') -%}
                    {%- for transliterated_docx_name, transliterated_docx_path in transliterator_form.get('transliterated_docx').items() -%}
                    <a href="{{ url_for('.download_transliterated_file', filename=transliterated_docx_name) }}">
                    your file: {{ transliterated_docx_name }}
                    </a>
                    {% endfor %}
                    {% endif %}
            </form>



        </div>

    </div>

</body>

</html>